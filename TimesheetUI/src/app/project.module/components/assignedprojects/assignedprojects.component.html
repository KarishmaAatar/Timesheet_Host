
<div class="container">

    <mat-card>
        <mat-toolbar color="accent">
            <div align="center" style="color:white;text-align: right;">
                Project Creation And Details
            </div>
        </mat-toolbar>
        <br><br>
        <mat-card-content>
            <!-- <form [formGroup]="userForm"(ngSubmit)="onFormSubmit(userForm.value)">   -->
            <form [formGroup]="assignprojectForm" *ngIf="this.assignprojectForm"
            (ngSubmit)="submitForm()">
               
             
               <table class="table">
                   <tr>
                <div class="row">  
                    <div class="col-lg-4">  
                        <label>ProjectName:</label>  
                        <select required name="Country"  
                                #refCountry="ngModel"  
                                class="form-control" [(ngModel)]="selectedCountry" [ngModelOptions]="{standalone: true}">  
                            <option value="undefined">Please select Value</option>  
                            <option *ngFor="let project of projects"  
                                    [ngValue]="project.ProjectId">  
                                {{project.ProjectName}}  
                            </option>  
                        </select>  
                        <br />  
                        <div *ngIf="!refCountry.valid  && (refCountry.dirty || refCountry.touched)"  
                             class="alert alert-danger">  
                            <div [hidden]="!refCountry.errors.required">  
                                Name is required  
                            </div>  
                        </div>  
                    </div>  
                </div>  
                <!-- <div class="row">  
                    <div class="col-lg-4">  
                        <label>Selected Project : {{refCountry.value}}</label>  
                    </div>  
                </div>   -->
            </tr>

            <tr>
                <div class="row">  
                    <div class="col-lg-4">  
                        <label>UserName:</label>  
                        <select required name="Country"  
                                #refCountry="ngModel"  
                                class="form-control" [(ngModel)]="selectedUserName" [ngModelOptions]="{standalone: true}">  
                            <option value="undefined">Please select Value</option>  
                            <option *ngFor="let user of users"  
                                    [ngValue]="user.UserId">  
                                {{user.Name}}  
                            </option>
                        </select>  
                        <br />  
                        <div *ngIf="!refCountry.valid  && (refCountry.dirty || refCountry.touched)"  
                             class="alert alert-danger">  
                            <div [hidden]="!refCountry.errors.required">  
                                Name is required  
                            </div>  
                        </div>  
                    </div>  
                </div>  
                <!-- <div class="row">  
                    <div class="col-lg-4">  
                        <label>Selected User : {{refCountry.value}}</label>  
                    </div>  
                </div>   -->
                
            </tr>
       
            <tr>
                <td></td>
                <td class="content-center">
                    <button type="submit" mat-raised-button color="accent" matTooltip="Click Submit Button"
                        [disabled]="!assignprojectForm.valid" (click)="submitForm()">Submit</button>
                   
                </td>
                <td>
                    <p *ngIf="dataSaved" style="color:rgb(0, 128, 0);font-size:20px;font-weight:bold"
                        Class="success" align="left">
                        {{massage}}
                    </p>
                </td>
            </tr>
            </table>
               <table class="table">
                    <tr ngclass="btn-primary">
                        <th class="tbl2">UserName</th>
                        <th class="tbl2">MobileNo</th>
                        <th class="tbl2">ProjectCode</th>
                        <th class="tbl2">ProjectName</th>
                        <th class="tbl2">NameOfIndustry</th>
                        <th class="tbl2">Delete</th>
                    </tr>
                    <tr *ngFor="let project of allProjects | async">
                        <td class="tbl2">{{project.Name}}</td>
                        <td class="tbl2">{{project.MobileNo}}</td>
                        <td class="tbl2">{{project.ProjectCode}}</td>
                        <td class="tbl2">{{project.ProjectName}}</td>
                        <td class="tbl2">{{project.NameOfIndustry}}</td>
                       
                        <td class="tbl2">
                            <button type="button" class="btn btn-danger" matTooltip="Click Delete Button"
                                (click)="deleteProject(project.ProjectId)">Delete</button>
                        </td>
                    </tr>

                </table>
            </form>
        </mat-card-content>
    </mat-card>
</div>